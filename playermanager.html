<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-uWxY/CJNBR+1zjPWmfnSnVxwRheevXITnMqoEIeG1LJrdI0GlVs/9cVSyPYXdcSF"
      crossorigin="anonymous"
    />
    <link rel="stylesheet" href="styles.css" />
    <title>Celestials</title>
    <!--FAVICON ICON-->
    <link rel="icon" type="image/x -icon" href="images/favicon.png" />
  </head>
  <body>
    <div style="background-color: rgb(14, 14, 28)" class="container-fluid p-0">
      <nav
        style="background-color: #181716"
        class="drop-shadownav navbar navbar-expand-xxl navbar-dark sticky-top"
      >
        <a class="navbar-brand" href="index.html">
          <div class="row">
            <div class="col d-flex justify-content-center">
              <img class="" src="svgs/White_C_Logo (1).svg" alt="" />
            </div>
            <div class="col align-middle p-0">
              <img src="svgs/FINALWHITETEXT.svg" alt="" />
            </div>
          </div>
        </a>
        <button
          class="navbar-toggler"
          type="button"
          data-bs-toggle="collapse"
          data-bs-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div
          class="collapse navbar-collapse justify-content-end"
          id="navbarNav"
        >
          <ul class="navbar-nav">
            <li class="nav-item dropdown">
              <a
                id="testfont"
                class="nav-link active text-light dropdown-toggle fw-bold"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                SOCIALS
              </a>
              <div
                class="dropdown-menu bg-dark"
                aria-labelledby="navbarDropdown"
              >
                <a
                  target="_blank"
                  rel="noopener noreferrer"
                  class="dropdown-item"
                  href="https://twitter.com/celestialsgg_"
                  ><div class="row justify-content-center">
                    <div class="col-auto">
                      <img src="svgs/twitter.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a
                  target="_blank"
                  rel="noopener noreferrer"
                  class="dropdown-item"
                  href="https://www.tiktok.com/@celestialsgg"
                  ><div class="row justify-content-center">
                    <div class="col-auto">
                      <img src="svgs/tiktok.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a
                  target="_blank"
                  rel="noopener noreferrer"
                  class="dropdown-item"
                  href="https://www.instagram.com/celestialsgg_/"
                  ><div class="row justify-content-center">
                    <div class="col-auto">
                      <img src="svgs/instagram.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a
                  target="_blank"
                  rel="noopener noreferrer"
                  class="dropdown-item"
                  href="https://www.twitch.tv/Celestials_GG"
                  ><div class="row justify-content-center">
                    <div class="col-auto">
                      <img src="svgs/twitch.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a
                  target="_blank"
                  rel="noopener noreferrer"
                  class="dropdown-item"
                  href="https://www.youtube.com/channel/UCW9VbYn5GcCWkMFKn5C1Z3A"
                  ><div class="row justify-content-center">
                    <div class="col-auto">
                      <img src="svgs/youtube.svg" alt="" />
                    </div>
                  </div>
                </a>
              </div>
            </li>
            <li class="nav-item dropdown">
              <a
                id="testfont"
                class="fw-bold text-light nav-link active dropdown-toggle"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
              >
                TEAMS
              </a>
              <div
                class="dropdown-menu bg-dark"
                aria-labelledby="navbarDropdown"
              >
                <a class="dropdown-item" href="valorant.html">
                  <div class="row">
                    <div class="col-12">
                      <p id="testfont" class="text-light text-center">
                        Valorant
                      </p>
                    </div>
                    <div class="col d-flex justify-content-center">
                      <img src="svgs/valorant.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a class="dropdown-item" href="league.html"
                  ><div class="row">
                    <div class="col-12">
                      <p id="testfont" class="text-light text-center">League</p>
                    </div>
                    <div class="col d-flex justify-content-center">
                      <img src="svgs/league.svg" alt="" />
                    </div>
                  </div>
                </a>
                <a class="dropdown-item" href="wow.html"
                  ><div class="row">
                    <div class="col-12">
                      <p id="testfont" class="text-light text-center">WoW</p>
                    </div>
                    <div class="col d-flex justify-content-center">
                      <img src="svgs/WoW.svg" alt="" />
                    </div>
                  </div>
                </a>
              </div>
            </li>
            <li class="nav-item">
              <a
                id="testfont"
                class="fw-bold text-light nav-link active"
                href="streams.html"
                role="button"
                aria-haspopup="true"
                aria-expanded="false"
                >STREAMERS</a
              >
            </li>
            <li class="nav-item active">
              <a
                target="_blank"
                rel="noopener noreferrer"
                id="testfont"
                class="fw-bold text-light nav-link active"
                href="https://discord.gg/celestialsgg"
                >DISCORD</a
              >
            </li>
            <li class="nav-item active">
              <a
                id="testfont"
                class="fw-bold text-light nav-link active"
                href="#"
                id="navbarDropdown"
                role="button"
                data-bs-toggle="dropdown"
                aria-haspopup="true"
                aria-expanded="false"
                >STORE</a
              >
            </li>
            <li class="nav-item">
              <a
                id="testfont"
                class="fw-bold text-light nav-link active"
                href="about.html"
                role="button"
                aria-haspopup="true"
                aria-expanded="false"
                >ABOUT US</a
              >
            </li>
          </ul>
        </div>
      </nav>

      <div class="container-fluid mt-5">
        <div class="row">
          <div class="col">
            <h4 class="text-center text-white">Player Manager</h4>
          </div>
        </div>
        <div class="row justify-content-center">
          <div class="col-auto">
            <h5 class="text-white pt-1 mt-2">API-KEY</h5>
          </div>
          <div class="col-auto">
            <input
              id="api-key"
              class="form-control mt-2"
              required
              name="api-key"
              type="
                text"
            />
          </div>
        </div>
        <div class="row">
          <div class="col-12 col-md-4">
            <form id="addPlayer" class="form-signin">
              <h2 class="form-signin-heading text-light text-center">
                Manage Player
              </h2>
              <select id="method" name="method" class="form-select">
                <option value="POST">Add</option>
                <option value="DELETE">Delete</option>
                <option value="PATCH">Edit</option>
              </select>
              <select id="rank" name="rank" class="form-select mt-2">
                <option value="4">Raider</option>
                <option value="0">Guild Leader</option>
                <option value="1">Lead Officer</option>
                <option value="2">Officer</option>
                <option value="3">Custom</option>
                <option value="5">Member</option>
              </select>
              <input
                id="playerName"
                class="form-control mt-2"
                type="text"
                required
                name="playerName"
                placeholder="Player name"
              />
              <input
                class="form-control mt-2"
                type="text"
                id="tagline"
                name="tagline"
                placeholder="Tagline"
              />

              <input
                class="form-control mt-2"
                type="text"
                id="twitter"
                name="twitter"
                placeholder="Twitter"
              />
              <input
                class="form-control mt-2"
                type="text"
                id="youtube"
                name="youtube"
                placeholder="Youtube"
              />
              <input
                class="form-control mt-2"
                type="text"
                id="twitch"
                name="twitch"
                placeholder="Twitch"
              />
              <input
                class="form-control mt-2"
                type="text"
                id="tiktok"
                name="tiktok"
                placeholder="Tiktok"
              />
              <button
                class="btn btn-lg btn-primary btn-block mt-2"
                type="submit"
              >
                Submit
              </button>
            </form>
          </div>
          <div class="col-12 col-md-4">
            <p class="text-white">
              General usage: <br />
              You must put the API key in the top box. <br />
              You must select the method you want to use. <br />
              You must ensure the rank dropdown is on the correct value <br />
              <br />
              To add a player: <br />
              Name and Tagline required <br />Tagline should be the same as the
              ranking, could make it custom if u want<br /><br />
              To delete a player: <br />
              Only name required <br /><br />
              To edit a player: <br />
              Name is all it needs to identify the player, then you can edit
              only what u want to edit, be sure to keep rank dropdown the same
            </p>
          </div>
          <div class="col-12 col-md-4">
            <div class="row">
              <div class="col">
                <form id="photoupload" class="text-white">
                  <input id="thephoto" type="file" name="image" />
                  <button type="submit">Upload</button>
                </form>
              </div>
            </div>
            <div class="row">
              <div class="col">
                <p class="text-white bolds">
                  The photo must be uploaded seperately for now <br />
                  You must have a 4x5 image already cropped 800x1000 or
                  400x500<br />
                  You must also have the photo name match exactly what the
                  persons name is and be a PNG<br />
                  When you create a player, the name should have 1 capital
                  letter to start as well as the photo so they match perfectly
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="container-fluid mt-5 pt-2" style="background-color: #181716">
        <div class="row justify-content-center margin-auto">
          <div class="col-auto">
            <img src="svgs/White_C_Logo (1).svg" alt="" />
          </div>
          <div class="col-auto">
            <img src="svgs/FINALWHITETEXT.svg" alt="" />
          </div>
        </div>
        <div class="row justify-content-center mt-2">
          <div class="col-auto">
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://www.twitch.tv/Celestials_GG"
              ><img src="svgs/twitch.svg" alt=""
            /></a>
          </div>
          <div class="col-auto">
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://www.youtube.com/channel/UCW9VbYn5GcCWkMFKn5C1Z3A"
              ><img src="svgs/youtube.svg" alt=""
            /></a>
          </div>
          <div class="col-auto">
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://twitter.com/celestialsgg_"
              ><img src="svgs/twitter.svg" alt=""
            /></a>
          </div>
          <div class="col-auto">
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://www.instagram.com/celestialsgg_/"
              ><img src="svgs/instagram.svg" alt=""
            /></a>
          </div>
          <div class="col-auto">
            <a
              target="_blank"
              rel="noopener noreferrer"
              href="https://www.tiktok.com/@celestialsgg"
              ><img src="svgs/tiktok.svg" alt=""
            /></a>
          </div>
        </div>
        <div class="row justify-content-end">
          <div class="col-7 col-md-3">
            <p style="font-weight: bold" class="text-center text-light m-0">
              &#169; CELESTIALS 2022
            </p>
          </div>
        </div>
      </div>
    </div>
    <script>
      const uploadForm = document.getElementById("photoupload");
      const addPlayerForm = document.getElementById("addPlayer");
      function handlePhotoForm(event) {
        event.preventDefault();
        let apikey = document.getElementById("api-key").value;
        let updatetext = document.getElementById("joemama");
        var formdata = new FormData();
        formdata.append("avatar", thephoto.files[0], thephoto.files[0].name);

        var requestOptions = {
          method: "POST",
          body: formdata,
          redirect: "follow",
        };

        fetch(
          //"http://ec2-3-145-21-220.us-east-2.compute.amazonaws.com/api/upload-avatar/?api-key=whydoesntthiswork",
          `https://ec2-52-15-60-248.us-east-2.compute.amazonaws.com/api/upload-avatar/?apy-key=${apikey}`,
          requestOptions
        )
          .then((response) => response.text())
          .then((result) => updatetext.innerText(result))
          .catch((error) => updatetext.innerText(error));
      }
      function handleForm(event) {
        event.preventDefault();
        res = document.getElementById("joemama");
        let name = document.getElementById("playerName").value;
        let tagline = document.getElementById("tagline").value;
        let rank = parseInt(document.getElementById("rank").value);
        let twitter = document.getElementById("twitter").value;
        let youtube = document.getElementById("youtube").value;
        let twitch = document.getElementById("twitch").value;
        let tiktok = document.getElementById("tiktok").value;
        let apikey = document.getElementById("api-key").value;
        let formmethod = document.getElementById("method").value;
        var myHeaders = new Headers();
        console.log(typeof document.getElementById("rank").value);

        myHeaders.append("Content-Type", "application/x-www-form-urlencoded");

        var urlencoded = new URLSearchParams();
        urlencoded.append("name", name);
        urlencoded.append("tagline", tagline);
        urlencoded.append("rank", rank);
        urlencoded.append("twitter", twitter);
        urlencoded.append("youtube", youtube);
        urlencoded.append("twitch", twitch);
        urlencoded.append("tiktok", tiktok);
        var requestOptions = {
          method: formmethod,
          headers: myHeaders,
          body: urlencoded,
          redirect: "follow",
        };

        fetch(
          //`http://ec2-3-145-21-220.us-east-2.compute.amazonaws.com/api/wowplayers/?api-key=${apikey}`,
          `https://ec2-52-15-60-248.us-east-2.compute.amazonaws.com/api/wowplayers/?api-key=${apikey}`,
          requestOptions
        )
          .then((response) => response.text())
          .then((result) => console.log(result))
          .catch((error) => console.log("error", error));
      }
      addPlayerForm.addEventListener("submit", handleForm);
      uploadForm.addEventListener("submit", handlePhotoForm);
    </script>
    <script
      src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
      integrity="sha384-oBqDVmMz9ATKxIep9tiCxS/Z9fNfEXiDAYTujMAeBAsjFuCZSmKbSSUnQlmh/jp3"
      crossorigin="anonymous"
    ></script>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.min.js"
      integrity="sha384-IDwe1+LCz02ROU9k972gdyvl+AESN10+x7tBKgc9I5HFtuNz0wWnPclzo6p9vxnk"
      crossorigin="anonymous"
    ></script>
  </body>
</html>
